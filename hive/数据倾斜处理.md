#### 什么是数据倾斜？
>数据倾斜是在做计算的时候，数据分散的程度不够，导致大量数据集中在一台或者几台机器上计算，这些数据的计算速度远远低于平均计算速度，从而导致整个计算过程很慢
>
>

##### hive中出现数据倾斜的原因有哪些？
>
>1. key分布不均匀
>
>2. 业务数据本身过于集中
>
>3. SQL语句逻辑复杂，可能本身就存在数据倾斜
>
>


#### 出现数据倾斜的特征有哪些？
>
>1. ruduce阶段卡在99.99%，一直99.99%不能结束
>


#### hive中如何调优，避免数据倾斜？
>
>map阶段的输出更加均匀地分散到reducer是目标
>
>参数调优：
>
>hive.map.aggr=true
>
>hive.groupby.skewindata=true
>
>
>
>SQL语句调优：
>
>选用join key分布最均匀的表作为驱动表
>
>使用map join让小的维度表（1000条以下的记录条数） 先进内存。在map端完成reduce.(MAPJION会把小表全部读入内存中，在map阶段直接拿另外一个表的数据和内存中表数据做匹配，由于在map是进行了join操作，省去了reduce运行的效率也会高很多)
>
>
>把空值的key变成一个字符串加上随机数，把倾斜的数据分到不同的reduce上，由于null值关联不上，处理后并不影响最终结果。